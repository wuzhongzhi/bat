【JVM面试题】：老年代的担保机制
在发生Minor GC前，虚拟机会先检查老年代最大可用的连续空间是否大于新生代所有对象的总空间，
如果这个条件成立，那么Minor GC是安全的；
反之，如果不成立，那么虚拟机会先尝试进行一次Minor GC，
尽量把存活对象放入老年代中，
然后再检查老年代最大可用的连续空间是否大于新生代所有对象的总空间，
如果成立，那么Minor GC就结束了；反之，就要进行Full GC了。

在进行Full GC之前，虚拟机会通过担保机制，
检查老年代最大可用的连续空间是否大于历次晋升到老年代对象的平均大小。
如果成立，那么可以进行Full GC；反之，则会尝试启动一次内存压缩（Compaction），
进行整理和清理，以获得更大的连续空间。
微信公众号关注科技青莲获取面试资料
